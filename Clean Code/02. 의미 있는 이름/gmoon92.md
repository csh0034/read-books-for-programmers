# 2장 의미 있는 이름

앞서 깨끗한 코드란 단순한 코드라 했다.
그렇다하여 클래스, 메서드, 변수등 프로그래밍에 사용하는 이름을 단순화하라는 건 아니다.

코드란 개발자간의 의사 소통이다. 개발자간의 소통의 첫 걸음은 의미있는 이름 짓기로 부터 시작된다.

_좋은 이름을 지으려면 시간이 걸리지만 좋은 이름으로 절약하는 시간이 훨씬 더 많다._

이 장에서는 이름을 잘 짓는 간단한 규칙을 소개한다.

## 목차

1. [의도를 분명히 밝혀라](#의도를-분명히-밝혀라)
2. [그릇된 정보를 피하라](#그릇된-정보를-피하라)
3. [의미 있게 구분하라](#의미-있게-구분하라)
    - [불분명한 불용어를 사용하지 말아라](#불분명한-불용어를-사용하지-말아라)
    - [읽는 사람이 차이를 알도록 이름을 지어라](#읽는-사람이-차이를-알도록-이름을-지어라)
4. [발음하기 쉬운 이름을 사용하라](#발음하기-쉬운-이름을-사용하라)
5. [검색하기 쉬운 이름을 사용하라](#검색하기-쉬운-이름을-사용하라)
6. [인코딩을 피하라](#인코딩을-피하라)
7. [추상화 클래스는 접두어를 사용하지 않는다](#추상화-클래스는-접두어를-사용하지-않는다)
8. [자신의 기억력을 자랑하지 마라](#자신의-기억력을-자랑하지-마라)
9. [클래스 이름](#클래스-이름)
10. [메서드 이름](#메서드-이름)
11. [기발한 이름은 피하라](#기발한-이름은-피하라)
12. [한 개념에 한 단어를 사용하라](#한-개념에-한-단어를-사용하라)
13. [말장난을 하지 마라](#말장난을-하지-마라)
14. [해법 영역에서 가져온 이름을 사용하라](#해법-영역에서-가져온-이름을-사용하라)
15. [문제 영역에서 가져온 이름을 사용하라](#문제-영역에서-가져온-이름을-사용하라)
16. [의미있는 맥락을 추가하라](#의미있는-맥락을-추가하라)
17. [불필요한 맥락을 없애라](#불필요한-맥락을-없애라)

---

## 의도를 분명히 밝혀라

깨끗한 코드는 명료하다.
명료한 코드는 크게 단순성과 함축성을 기준으로 판별한다.

일반적으로 코드의 단순성은 지키기 쉽지만, 함축성을 잘못 이해하여 실수를 범한다.

```java
public class MinesweeperGame {
  public List<int[]> getThem() {
    List<int[]> list1 = new ArrayList<>();
    for (int[] x : theList) {
      if (x[0] == 4) {
        list1.add(x);
        return list1;
      }
    }
  }
}
```

다음 코드는 단순하다.
하지만 코드 맥락이 코드 자체에 명시적으로 드러나지 않는다. 즉 코드의 함축성이 문제이다.

1. theList는 무엇이 들었는가?
2. theList의 첫 번째 인자 값이 왜 중요한가
3. 값 4는 무슨 의미인가?
4. 함수가 반환하는 리스트 list1을 어떻게 사용하는가?

```java
public class MinesweeperGame {
  //public List<int[]> getThem() { // [1]
  public List<Cell> getFlaggedCells() {
//  List<int[]> list1 = new ArrayList<>(); // [1]
    List<Cell> flaggedCells = new ArrayList<>();

    // [3]
    for (Cell cell : gameBoard) { // [3] for (int[] x : theList) {
      if (cell.isFlagged()) {     // [4]  if (x[0] == 4) {
        flaggedCells.add(cell);   //        list1.add(x);
        return flaggedCells;      //        return list1;
      }
    }
  }
}
```

개선된 위 코드를 요약하면 다음과 같다.

1. 메서드와 변수 이름 변경만으로도 저자의 의도가 명백해진다.
2. 원시 타입은 Wrapper 클래스로 정의하면 저자의 의도를 파악하기 쉽다.
    - 기존 int[] 자료형 타입으로 코드가 무엇을 의미하는지 파악할 수 없다.
3. 의미 있는 이름을 지닌 메시지에게 물어봐라.
    - Cell 클래스로 내부로 감추게 되면, `x[0]` 가 왜 중요한지, `4`의 의미는 무엇인지 파악하는 불필요한 시간을 줄일 수
      있다.

## 그릇된 정보를 피하라

개발자는 코드에 그릇된 단서를 남겨서는 안 된다.

1. 널리 쓰이는 의미가 있는 단어를 사용하지 말자.
    - 변수명에 hp, aix, sco는 적합하지 않다.
2. 자료형(특수한 의미)을 접미사로 사용하지 말자.
    - accountList 변수명은 옳지 못하다. `list`라는 단어는 개발자에게 특수한 의미이다.
    - accountGroup, bunchOfAccounts, Accounts라는 명명이 더 알맞는다.
3. 의미가 흡사한 이름을 사용하지 않도록 한다.
4. 일관성 있는 단어를 선택해라.
    - 유사한 개념은 유사한 표기법을 사용한다.
    - 예를들어 데이터를 반환하는 메서드를 `get`으로 사용하고 있다면 `get`을 사용해야한다.

## 의미 있게 구분하라

컴파일러나 인터프리터만 통과하려는 생각으로 코드를 구현하는 개발자는 스스로 문제를 일으킨다.

### 불분명한 불용어를 사용하지 말아라
### 읽는 사람이 차이를 알도록 이름을 지어라

불분명한 불용어(noise word)를 추가한 이름 역시 아무런 정보를 제공한다.

불용어를 사용하지 말라는 이야기가 아니다. 의미가 다르다면 사용해도 무방하다.
단, 부동소수가 될 가능성이 없다면 불용어를 사용하지 말자. 불용어 또한 중복이다.

- Best : `Name`
- Bad : `NameString`

```java
public class StringUtils {
  public static int compare(String str1, String str2) {
    return str1.compareTo(str2);
  }
}
```

위 코드처럼 str1, str2 불용어는 저자의 의도를 해친다.

이름을 통해 저자의 의도를 드러내야 한다. (source, comparisonTarget 처럼...)

```java
public class StringUtils {
  public static int compare(String source, String comparisonTarget) {
    return source.compareTo(comparisonTarget);
  }
}
```

메서드뿐만 아니라 클래스에서도 불용어를 찾을 수 있다. `ProductInfo`, `ProductData` 처럼 개념을 구분하지 않은 채 이름만 달리한 경우다.

|||
|---|---|
|moneyAmount|money|
|customerInfo|customer|
|accountData|account|
|theMessage|message|
|aCount|count|

또한, 명확한 관례가 없다면 다음 변수명은 구분할 수 없다.
읽는 사람이 차이를 알도록 이름을 지어라. 이는 개발자의 배려이다.

## 발음하기 쉬운 이름을 사용하라

발음하기 쉬운 이름은 중요하다. 프로그래밍은 사회 활동이기 때문이다.
앞서 강조하지만 **코드는 개발자간의 의사 소통 수단**이다.

- 발음하기 어려운 이름은 토론하기 어렵다.
    - 축약하지 말아라.

```java
class DtaRcrd102 {
  private Date genymdhms;
  private Date modymdhms;
}

class Customer {
  private Date generationTimeStamp;
  private Date modificationTimestamp;
}
```

## 검색하기 쉬운 이름을 사용하라

일반적으로 이름 작게 짓는게 좋다.

때론 긴 이름이 짧은 이름보다 좋은 경우가 있는데, 바로 검색을 할 때다.
문자 하나를 사용하는 이름과 상수는 텍스트 코드에서 쉽게 눈에 띄지 않는다.
검색하기 쉬운이름이 상수보다 좋다. 이름 길이는 검색 범위 크기에 비례해야 한다.

```java
class Calendar {
  // 이름 길이는 범위 크기에 비례해야 한다.
  static final int WORK_DAYS_PER_WEEK = 5;
  int sum = 0;
}
```

## 인코딩을 피하라

예전 프로그래밍에선 컴파일러가 변수의 타입을 판단할 수 없어, 변수에 특정 타입을 표기했다.

- m_description

현재 컴파일러는 타입을 기억하고 강제한다. 접두어를 포함한 네이밍은 구닥다리 코드라는 징표다.

## 추상화 클래스는 접두어를 사용하지 않는다

인터페이스나 구현 클래스에 접두어를 사용하면 잘해봤자 주의를 흐트리고, 나쁘게는 과도한 정보를 제공한다.

| |인터페이스|구현체|
|---|---|---|
|O|ShapeFactory|ShapeFactoryImpl|
|X|IShapeFactory|ShapeFactory|

요즘은 구현 클래스의 이름에 관례적으로 `*Impl` 접두사로 짓는것 또한 나쁜 습관으로 판단한다.

- 인터페이스는 형용사/명사로 짓는다.
- 구현 클래스도 `*Impl` 대신 의미있는 이름으로 짓는다.

## 자신의 기억력을 자랑하지 마라

- 이름을 지을땐 축약하지 말아야한다.
- 한자리 문자를 사용하는 이름은 사용하지 말아야한다.
    - 반복 횟수를 세는 변수 `i`, `j`, `k`는 괜찮다(단, `l`은 절대 안된다. 1과 헷갈리 수 있기 때문에)
- 전문가 개발자는 명료함이 최고라는 사실을 이해한다.
- 전문가 개발자는 자신의 능력을 좋은 방향으로 사용해, 남들이 이해하는 코드를 내놓는다.

## 클래스 이름

- 클래스 이름은 명사나 명사구가 적합하다.
- 동사는 사용하지 않는다.

## 메서드 이름

- 메서드 이름은 동사나 동사구가 적합하다.
- 다음 메서드들은 javabean 표준에 따라 값 앞에 `get`, `set`, `is`를 붙인다.
    - 접근자(Accessor)
    - 변경자(Mutator)
    - 조건자(Predicate)
- 생성자를 중복 정의(overload)할 때는 정적 팩토리 메서드를 사용한다.
    - 메서드는 인수를 설명하는 이름을 사용한다.

## 기발한 이름은 피하라

- 재미난 이름보다 명료한 이름을 선택하라.
- 특정 문화에서만 사용하는 농담은 피하는 편이 좋다.
- 의도를 분명하고 솔직하게 표현하라.

## 한 개념에 한 단어를 사용하라

- 추상적인 개념 하나에 단어 하나를 선택해 이를 고수한다.
    - `get`, `fetch`, `retrieve` 제각각 사용한다면 혼란스럽다.
- 일관성 있는 어휘는 코드를 사용할 개발자가 반갑게 여길 선물이다.

## 말장난을 하지 마라

- 한 단어를 두 가지 목적으로 사용하지 마라.
- 같은 맥락이 아니면, 의미있는 이름으로 새로 짓는다.
    - 때론, 같은 맥락이 아닌데도 `일관성`을 고려하여 이름을 짓는데 이는 나쁜 코드이다.
- 개발자는 최대한 이해하기 쉽게 짜야한다.
- 의미를 해독할 책임은 독자에게 있는 논문 모델이 아닌, 의도를 밝힐 책임이 저자에게 있는 모델이 바랍직하다.

## 해법 영역에서 가져온 이름을 사용하라

코드의 저자는 개발자다.
문제 해법을 고려하여 개발자 입장에서 이름을 짓자.

- 문제 영역: 도메인(비즈니스) 영역
- 해법 영역: 문제를 해결하기 위한 영역

모든 이름을 문제 영역에서 가져오는건 바람직하지 않다.
전문적인 용어를 가져오면 코드를 해석하는데 오히려 방해가 된다. 따라서 개발자에게 익숙한 용어를 사용하여 이름을 짓는게 좋다.

기술 개념에는 기술 이름이 가장 적합한 선택이다.

## 문제 영역에서 가져온 이름을 사용하라

적절한 개발자 용어가 없다면 문제 영역에서 이름을 가져온다,.

우수한 개발자와 설계자라면 해법 영역과 문제 영역을 구분할 줄 알아야 한다.

## 의미있는 맥락을 추가하라

스스로 의미가 분명한 이름이 없지 않다.

의미있는 이름을 짓기 위해 클래스, 함수, 이름 공간에 넣어 맥락을 부여한다.
그러나 모든 방법이 실패하면 마지막 수단으로 접두어를 붙인다.

- `addr`firstName
- `addr`LastName
- `addr`Status
- `addr`HoustNumber
- `addr`City

`addr` 접두어로 인해 주소와 관련이 있다는걸 맥락이 분명해졌다.

```java
public class Guess {
  private void printGuessStatistics(char candidate, int count) {
    // [1] 맥락이 불분명한 변수들
    String number;
    String verb;
    String pluralModifier;

    // ...
  }
}
```

맥락이 불분명한 변수들은 전체 로직을 파악해야만 의미와 쓰임을 알 수 있다.
최종적으로 의미가 비슷한 변수들을 클래스로 정의하면 맥락이 더 분명해진다.

```java
public class GuessStatisticsMessage {
  private String number;
  private String verb;
  private String pluralModifier;
  // ...
}
```

## 불필요한 맥락을 없애라

일반적으로 이름은 짧을 수록 좋다.
단, 의미가 분명한 경우에 한해서다. 이름에 불필요한 맥락을 추가하지 않도록 주의한다.

`Custom`Address, `acccount`Address 보단, `Postal`Address, `MAC`Address, `URL`Address 라는 이름이 더 좋다.